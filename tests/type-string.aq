#!/usr/local/bin/aq

Run '../prelude/StringFunctions.aq';

str := 'HeLlO, WoRlD! こんにちは！';

# literals
Write '';
Write str;

# operations
Write '' & 'あいう';
Write 'あいう' & '';
Write 'あいう' & 'えおか';
Write BoolToStr('あいう' eq 'あいう');
Write BoolToStr('あいう' eq 'えおか');
Write BoolToStr('あいう' ne 'あいう');
Write BoolToStr('あいう' ne 'えおか');
Write BoolToStr('あいう' in 'あいうえお');
Write BoolToStr('えおか' in 'あいうえお');
Write BoolToStr('あいうえお' sw 'あいう');
Write BoolToStr('あいうえお' sw 'いうえ');
Write BoolToStr('あいうえお' ew 'うえお');
Write BoolToStr('あいうえお' ew 'いうえ');

# functions
Write IntToStr(length(str));

Write IntToStr(CharToOrd(str));
Write IntToStr(CharToOrd(right(str, 1)));

Write charat(str, 1);
Write substring1(str, 5);
Write substring2(str, 1, 6);

Write left(str, 5);
Write mid(str, 1, 5);
Write right(str, 5);

Write head(str);
Write tail(str);

Write IntToStr(findleft(str, 'He', 0));
Write IntToStr(findleft(str, 'lO', 0));
Write IntToStr(findright(str, 'He', length(str)));
Write IntToStr(findright(str, 'lO', length(str)));

s := '1;2;3';
Write s;
p := split(';', s);
Write DictToStr(p);
t := join(',', p);
Write t;

Write repeat(' ', 10);
Write repeat('あいう', 0);
Write repeat('あいう', 3);

Write replace('abcde', 'bcd', '_');
Write replace('abcde', '.', '_');

# prelude functions
Write BoolToStr(IsAllPrintableASCII('This is all in printable ASCII.'));
Write BoolToStr(IsAllPrintableASCII('Thiś is nòt in pŕintâble ÁSCÌI.'));
Write BoolToStr(IsNumeric('0123456789'));
Write BoolToStr(IsNumeric('0123ab6789'));
Write BoolToStr(IsAllUppercase('HELLO'));
Write BoolToStr(IsAllUppercase('HeLlO'));
Write BoolToStr(IsAllLowercase('hello'));
Write BoolToStr(IsAllLowercase('HeLlO'));
Write BoolToStr(IsBlank(''));
Write BoolToStr(IsBlank(str));
Write Chop('あいう');
Write BoolToStr(ContainsOnly('***', '*'));
Write BoolToStr(ContainsOnly('*+*', '*'));
Write StrReverse(str);
Write Space(5);
Write ToLowercase(str);
Write ToUppercase(str);
Write TrimLeft(' あいう ');
Write TrimRight(' あいう ');
Write Trim(' あいう ');
Call ForEachChar('あいう', \c -> {Write '>' & c;});
