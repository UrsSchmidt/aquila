#!/usr/local/bin/aq

Run '../prelude/stringfunctions.aq';

str := 'HeLlO, WoRlD! こんにちは！';

# literals
Write '';
Write str;

# operations
Write '' & 'あいう';
Write 'あいう' & '';
Write 'あいう' & 'えおか';
Write bool2str('あいう' eq 'あいう');
Write bool2str('あいう' eq 'えおか');
Write bool2str('あいう' ne 'あいう');
Write bool2str('あいう' ne 'えおか');
Write bool2str('あいう' in 'あいうえお');
Write bool2str('えおか' in 'あいうえお');
Write bool2str('あいうえお' sw 'あいう');
Write bool2str('あいうえお' sw 'いうえ');
Write bool2str('あいうえお' ew 'うえお');
Write bool2str('あいうえお' ew 'いうえ');

# functions
Write int2str(length(str));

Write int2str(char2ord(str));
Write int2str(char2ord(right(str, 1)));

Write charat(str, 1);
Write substring1(str, 5);
Write substring2(str, 1, 6);

Write left(str, 5);
Write mid(str, 1, 5);
Write right(str, 5);

Write head(str);
Write tail(str);

Write int2str(findleft(str, 'He', 0));
Write int2str(findleft(str, 'lO', 0));
Write int2str(findright(str, 'He', length(str)));
Write int2str(findright(str, 'lO', length(str)));

s := '1;2;3';
Write s;
p := split(';', s);
Write dict2str(p);
t := join(',', p);
Write t;

Write repeat(' ', 10);
Write repeat('あいう', 0);
Write repeat('あいう', 3);

Write replace('abcde', 'bcd', '_');
Write replace('abcde', '.', '_');

# prelude functions
Write bool2str(isallprintableascii('This is all in printable ASCII.'));
Write bool2str(isallprintableascii('Thiś is nòt in pŕintâble ÁSCÌI.'));
Write bool2str(isnumeric('0123456789'));
Write bool2str(isnumeric('0123ab6789'));
Write bool2str(isalluppercase('HELLO'));
Write bool2str(isalluppercase('HeLlO'));
Write bool2str(isalllowercase('hello'));
Write bool2str(isalllowercase('HeLlO'));
Write bool2str(isblank(''));
Write bool2str(isblank(str));
Write chop('あいう');
Write bool2str(containsonly('***', '*'));
Write bool2str(containsonly('*+*', '*'));
Write strreverse(str);
Write space(5);
Write tolowercase(str);
Write touppercase(str);
Write trimleft(' あいう ');
Write trimright(' あいう ');
Write trim(' あいう ');
Call foreachchar('あいう', \c -> {Write '>' & c;});
