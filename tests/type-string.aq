#!/usr/local/bin/aq

Run '../prelude/StringFunctions.aq';

str := 'HeLlO, WoRlD! こんにちは！';

# literals
Write '';
Write str;

# operations
Write '' & 'あいう';
Write 'あいう' & '';
Write 'あいう' & 'えおか';
Write bool2str('あいう' eq 'あいう');
Write bool2str('あいう' eq 'えおか');
Write bool2str('あいう' ne 'あいう');
Write bool2str('あいう' ne 'えおか');
Write bool2str('あいう' in 'あいうえお');
Write bool2str('えおか' in 'あいうえお');
Write bool2str('あいうえお' sw 'あいう');
Write bool2str('あいうえお' sw 'いうえ');
Write bool2str('あいうえお' ew 'うえお');
Write bool2str('あいうえお' ew 'いうえ');

# functions
Write int2str(length(str));

Write int2str(char2ord(str));
Write int2str(char2ord(right(str, 1)));

Write charat(str, 1);
Write substring1(str, 5);
Write substring2(str, 1, 6);

Write left(str, 5);
Write mid(str, 1, 5);
Write right(str, 5);

Write head(str);
Write tail(str);

Write int2str(findleft(str, 'He', 0));
Write int2str(findleft(str, 'lO', 0));
Write int2str(findright(str, 'He', length(str)));
Write int2str(findright(str, 'lO', length(str)));

s := '1;2;3';
Write s;
p := split(';', s);
Write dict2str(p);
t := join(',', p);
Write t;

Write repeat(' ', 10);
Write repeat('あいう', 0);
Write repeat('あいう', 3);

Write replace('abcde', 'bcd', '_');
Write replace('abcde', '.', '_');

# prelude functions
Write bool2str(IsAllPrintableASCII('This is all in printable ASCII.'));
Write bool2str(IsAllPrintableASCII('Thiś is nòt in pŕintâble ÁSCÌI.'));
Write bool2str(IsNumeric('0123456789'));
Write bool2str(IsNumeric('0123ab6789'));
Write bool2str(IsAllUppercase('HELLO'));
Write bool2str(IsAllUppercase('HeLlO'));
Write bool2str(IsAllLowercase('hello'));
Write bool2str(IsAllLowercase('HeLlO'));
Write bool2str(IsBlank(''));
Write bool2str(IsBlank(str));
Write Chop('あいう');
Write bool2str(ContainsOnly('***', '*'));
Write bool2str(ContainsOnly('*+*', '*'));
Write StrReverse(str);
Write Space(5);
Write ToLowercase(str);
Write ToUppercase(str);
Write TrimLeft(' あいう ');
Write TrimRight(' あいう ');
Write Trim(' あいう ');
Call ForEachChar('あいう', \c -> {Write '>' & c;});
